{"ast":null,"code":"import React from\"react\";import{FiSmile}from\"react-icons/fi\";import{Link}from\"react-router-dom\";import{useQuery}from'react-query';import{Spinner}from'react-bootstrap';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var HomePage=function HomePage(){// const { isLoading, error, data, isFetching } = useQuery('getData', () =>\n//     fetch('https://api.codingthailand.com/api/news?page=1&per_page=3').then(res =>\n//         res.json()\n//     )\n// )\nvar query=useQuery('getData',function(){var controller=new AbortController();var signal=controller.signal;var promise=fetch('https://api.codingthailand.com/api/news?page=1&per_page=3',{method:'get',signal:signal}).then(function(res){return res.json();});//cancel request \npromise.cancel=function(){return controller.abort();};return promise;});var isLoading=query.isLoading,error=query.error,data=query.data,isFetching=query.isFetching;if(isLoading===true){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center mt-5\",children:/*#__PURE__*/_jsx(Spinner,{animation:\"border\"})});}if(error){return/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mt-5\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Have a problem from server,please try again.\"}),/*#__PURE__*/_jsx(\"p\",{children:JSON.stringify(error)})]});}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"main\",{role:\"main\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"jumbotron\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"display-3\",children:\"Welcome\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"This website develop by React language. \",/*#__PURE__*/_jsx(FiSmile,{color:\"brown\",size:\"2em\"})]}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(Link,{to:\"/product\",className:\"btn btn-primary btn-lg\",role:\"button\",children:\"All Products \\xBB\"})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto\",children:isFetching?'Updating...':null})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:data.data.map(function(d,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-4\",children:[/*#__PURE__*/_jsx(\"h2\",{children:d.topic}),/*#__PURE__*/_jsx(\"p\",{children:d.detail}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Cagetagory : \",d.name]})]},d.id);})}),/*#__PURE__*/_jsx(\"hr\",{})]}),\" \"]})});};export default HomePage;","map":{"version":3,"sources":["D:/reactPractice/create_react_app/my-app/src/pages/HomePage.js"],"names":["React","FiSmile","Link","useQuery","Spinner","HomePage","query","controller","AbortController","signal","promise","fetch","method","then","res","json","cancel","abort","isLoading","error","data","isFetching","JSON","stringify","map","d","index","topic","detail","name","id"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,OAAT,KAAwB,gBAAxB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,QAAT,KAAyB,aAAzB,CACA,OAASC,OAAT,KAAwB,iBAAxB,C,6IAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CAEnB;AACA;AACA;AACA;AACA;AAEA,GAAMC,CAAAA,KAAK,CAAGH,QAAQ,CAAC,SAAD,CAAY,UAAM,CAEpC,GAAMI,CAAAA,UAAU,CAAG,GAAIC,CAAAA,eAAJ,EAAnB,CACA,GAAMC,CAAAA,MAAM,CAAGF,UAAU,CAACE,MAA1B,CAEA,GAAMC,CAAAA,OAAO,CAAGC,KAAK,CAAC,2DAAD,CAA6D,CAC9EC,MAAM,CAAG,KADqE,CAE9EH,MAAM,CAAGA,MAFqE,CAA7D,CAAL,CAGbI,IAHa,CAGR,SAAAC,GAAG,QACPA,CAAAA,GAAG,CAACC,IAAJ,EADO,EAHK,CAAhB,CAOA;AACAL,OAAO,CAACM,MAAR,CAAiB,iBAAMT,CAAAA,UAAU,CAACU,KAAX,EAAN,EAAjB,CAEA,MAAOP,CAAAA,OAAP,CACH,CAhBqB,CAAtB,CAkBA,GAAQQ,CAAAA,SAAR,CAA+CZ,KAA/C,CAAQY,SAAR,CAAmBC,KAAnB,CAA+Cb,KAA/C,CAAmBa,KAAnB,CAA0BC,IAA1B,CAA+Cd,KAA/C,CAA0Bc,IAA1B,CAAgCC,UAAhC,CAA+Cf,KAA/C,CAAgCe,UAAhC,CAEA,GAAGH,SAAS,GAAK,IAAjB,CAAsB,CAClB,mBACI,YAAK,SAAS,CAAC,kBAAf,uBACI,KAAC,OAAD,EAAS,SAAS,CAAC,QAAnB,EADJ,EADJ,CAKH,CAED,GAAIC,KAAJ,CAAW,CACP,mBACI,aAAK,SAAS,CAAC,kBAAf,wBACI,mEADJ,cAEI,mBAAIG,IAAI,CAACC,SAAL,CAAeJ,KAAf,CAAJ,EAFJ,GADJ,CAMH,CAED,mBACI,sCACI,cAAM,IAAI,CAAC,MAAX,wBACI,YAAK,SAAS,CAAC,WAAf,uBACI,aAAK,SAAS,CAAC,WAAf,wBACI,WAAI,SAAS,CAAC,WAAd,qBADJ,cAEI,6EAC4C,KAAC,OAAD,EAAS,KAAK,CAAC,OAAf,CAAuB,IAAI,CAAC,KAA5B,EAD5C,GAFJ,cAKI,gCAII,KAAC,IAAD,EAAM,EAAE,CAAC,UAAT,CAAoB,SAAS,CAAC,wBAA9B,CAAuD,IAAI,CAAC,QAA5D,+BAJJ,EALJ,GADJ,EADJ,cAiBI,aAAK,SAAS,CAAC,WAAf,wBACI,YAAK,SAAS,CAAC,KAAf,uBACI,YAAK,SAAS,CAAC,SAAf,UAEQE,UAAU,CAAG,aAAH,CAAmB,IAFrC,EADJ,EADJ,cAQI,YAAK,SAAS,CAAC,KAAf,UAEQD,IAAI,CAACA,IAAL,CAAUI,GAAV,CAAc,SAACC,CAAD,CAAGC,KAAH,CAAa,CACvB,mBACI,aAAK,SAAS,CAAC,UAAf,wBACI,oBAAKD,CAAC,CAACE,KAAP,EADJ,cAEI,mBACKF,CAAC,CAACG,MADP,EAFJ,cAKI,qCACkBH,CAAC,CAACI,IADpB,GALJ,GAA+BJ,CAAC,CAACK,EAAjC,CADJ,CAWH,CAZD,CAFR,EARJ,cAyBI,aAzBJ,GAjBJ,CA2CW,GA3CX,GADJ,EADJ,CAiDH,CA9FD,CAgGA,cAAezB,CAAAA,QAAf","sourcesContent":["import React from \"react\";\r\nimport { FiSmile } from \"react-icons/fi\"\r\nimport { Link } from \"react-router-dom\"\r\nimport { useQuery } from 'react-query'\r\nimport { Spinner } from 'react-bootstrap' \r\n\r\nconst HomePage = () => {\r\n\r\n    // const { isLoading, error, data, isFetching } = useQuery('getData', () =>\r\n    //     fetch('https://api.codingthailand.com/api/news?page=1&per_page=3').then(res =>\r\n    //         res.json()\r\n    //     )\r\n    // )\r\n\r\n    const query = useQuery('getData', () => {\r\n        \r\n        const controller = new AbortController()\r\n        const signal = controller.signal\r\n\r\n        const promise = fetch('https://api.codingthailand.com/api/news?page=1&per_page=3',{\r\n            method : 'get',\r\n            signal : signal\r\n        }).then(res =>\r\n            res.json()\r\n        )\r\n\r\n        //cancel request \r\n        promise.cancel = () => controller.abort()\r\n\r\n        return promise\r\n    })\r\n\r\n    const { isLoading, error, data, isFetching } = query\r\n\r\n    if(isLoading === true){\r\n        return(\r\n            <div className=\"text-center mt-5\">\r\n                <Spinner animation=\"border\" />\r\n            </div>\r\n        )\r\n    }\r\n\r\n    if (error) {\r\n        return (\r\n            <div className=\"text-center mt-5\">\r\n                <p>Have a problem from server,please try again.</p>\r\n                <p>{JSON.stringify(error)}</p>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <main role=\"main\">\r\n                <div className=\"jumbotron\">\r\n                    <div className=\"container\">\r\n                        <h1 className=\"display-3\">Welcome</h1>\r\n                        <p>\r\n                            This website develop by React language. <FiSmile color=\"brown\" size=\"2em\" />\r\n                        </p>\r\n                        <p>\r\n                            {/* <a className=\"btn btn-primary btn-lg\" href=\"#\" role=\"button\">\r\n                                Learn more »\r\n                            </a> */}\r\n                            <Link to=\"/product\" className=\"btn btn-primary btn-lg\" role=\"button\">\r\n                                All Products »\r\n                            </Link>\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n                <div className=\"container\">\r\n                    <div className=\"row\">\r\n                        <div className=\"mx-auto\">\r\n                            {\r\n                                isFetching ? 'Updating...' : null\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                        {\r\n                            data.data.map((d,index) => {\r\n                                return(\r\n                                    <div className=\"col-md-4\" key={d.id}>\r\n                                        <h2>{d.topic}</h2>\r\n                                        <p>\r\n                                            {d.detail}\r\n                                        </p>\r\n                                        <p>\r\n                                            Cagetagory : {d.name}\r\n                                        </p>\r\n                                    </div>\r\n                                )\r\n                            })\r\n                        }\r\n                    </div>\r\n                    <hr />\r\n                </div>{\" \"}\r\n            </main>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default HomePage;\r\n"]},"metadata":{},"sourceType":"module"}