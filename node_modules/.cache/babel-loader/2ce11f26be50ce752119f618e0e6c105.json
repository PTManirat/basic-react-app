{"ast":null,"code":"var _jsxFileName = \"D:\\\\reactPractice\\\\create_react_app\\\\my-app\\\\src\\\\pages\\\\category\\\\EditPage.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useParams } from 'react-router-dom';\nimport axios from 'axios';\nimport { Container, Form, Button, Row, Col } from 'react-bootstrap';\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport * as yup from \"yup\";\nimport { useHistory } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst schema = yup.object().shape({\n  newsCatename: yup.string().required('Name news category is required!')\n});\n\nconst EditPage = () => {\n  _s();\n\n  const {\n    id\n  } = useParams();\n  const history = useHistory();\n\n  const getData = async id => {\n    try {\n      const res = await axios.get('https://api.codingthailand.com/api/category/' + id);\n      setValue('newsCatename', res.data.name);\n      setValue('newsCateId', res.data.id);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  React.useEffect(() => {\n    console.log(\"useEffect edit page\");\n    getData(id);\n  }, [id]);\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    },\n    setValue\n  } = useForm({\n    resolver: yupResolver(schema)\n  });\n\n  const onSubmit = async data => {\n    const apiUrl = 'https://api.codingthailand.com/api/category';\n    const res = await axios.put(apiUrl, {\n      id: data.newsCateId,\n      name: data.newsCatename\n    });\n    alert(res.data.message);\n    history.replace('/category');\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: \"mt-4\",\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        xs: 12,\n        md: 6,\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          onSubmit: handleSubmit(onSubmit),\n          children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"newsCatename\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"News Category\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              ...register(\"newsCatename\"),\n              placeholder: \"Enter news category name.\",\n              isInvalid: errors.newsCatename\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 29\n            }, this), errors.newsCatename && /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n              type: \"invalid\",\n              children: errors.newsCatename.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"newsCateId\",\n            children: /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"hidden\",\n              ...register(\"newsCateId\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            type: \"submit\",\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 9\n  }, this);\n};\n\n_s(EditPage, \"n93MF8AvyiyUE517Zm3rEBLnpAg=\", false, function () {\n  return [useParams, useHistory, useForm];\n});\n\n_c = EditPage;\nexport default EditPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditPage\");","map":{"version":3,"sources":["D:/reactPractice/create_react_app/my-app/src/pages/category/EditPage.js"],"names":["React","useParams","axios","Container","Form","Button","Row","Col","useForm","yupResolver","yup","useHistory","schema","object","shape","newsCatename","string","required","EditPage","id","history","getData","res","get","setValue","data","name","error","console","log","useEffect","register","handleSubmit","formState","errors","resolver","onSubmit","apiUrl","put","newsCateId","alert","message","replace"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { useParams } from 'react-router-dom'\r\nimport axios from 'axios'\r\nimport { Container, Form, Button, Row, Col } from 'react-bootstrap'\r\nimport { useForm } from \"react-hook-form\";\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\nimport * as yup from \"yup\";\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst schema = yup.object().shape({\r\n    newsCatename: yup.string().required('Name news category is required!')\r\n});\r\n\r\nconst EditPage = () => {\r\n\r\n    const { id } = useParams()\r\n    const history = useHistory()\r\n\r\n    const getData = async (id) => {\r\n        try{\r\n            const res = await axios.get('https://api.codingthailand.com/api/category/' + id)\r\n            setValue('newsCatename', res.data.name)\r\n            setValue('newsCateId', res.data.id)\r\n        }catch(error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        console.log(\"useEffect edit page\")\r\n        getData(id)\r\n    },[id])\r\n\r\n    const { register, handleSubmit, formState:{ errors }, setValue } = useForm({\r\n        resolver: yupResolver(schema)\r\n    });\r\n\r\n    const onSubmit = async (data) => {\r\n        const apiUrl = 'https://api.codingthailand.com/api/category'\r\n\r\n        const res = await axios.put(apiUrl,{\r\n            id: data.newsCateId,\r\n            name : data.newsCatename\r\n        })\r\n\r\n        alert(res.data.message)\r\n        history.replace('/category')\r\n    }\r\n\r\n    return (\r\n        <Container className=\"mt-4\">\r\n            <Row>\r\n                <Col xs={12} md={6}>\r\n                    <Form onSubmit={handleSubmit(onSubmit)}>\r\n                     \r\n                        <Form.Group controlId=\"newsCatename\">\r\n                            <Form.Label>News Category</Form.Label>\r\n                            <Form.Control \r\n                                type=\"text\" \r\n                                {...register(\"newsCatename\")} \r\n                                placeholder=\"Enter news category name.\" \r\n                                isInvalid={errors.newsCatename}\r\n                            />\r\n                            {\r\n                                errors.newsCatename && (\r\n                                    <Form.Control.Feedback type=\"invalid\">\r\n                                        {errors.newsCatename.message}\r\n                                    </Form.Control.Feedback>\r\n                                )\r\n                            }\r\n                        </Form.Group>\r\n\r\n                        <Form.Group controlId=\"newsCateId\">\r\n                            <Form.Control \r\n                                type=\"hidden\" \r\n                                {...register(\"newsCateId\")} \r\n                            />\r\n                        </Form.Group>\r\n\r\n                        <Button variant=\"primary\" type=\"submit\">\r\n                            Submit\r\n                        </Button>\r\n\r\n                    </Form>\r\n                </Col>\r\n            </Row>\r\n            <hr />\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default EditPage\r\n"]},"metadata":{},"sourceType":"module"}