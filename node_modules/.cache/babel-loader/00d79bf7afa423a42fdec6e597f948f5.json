{"ast":null,"code":"import _objectSpread from\"D:/reactPractice/create_react_app/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"D:/reactPractice/create_react_app/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/reactPractice/create_react_app/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React from'react';import{Container,Form,Button,Row,Col}from'react-bootstrap';import{useForm}from\"react-hook-form\";import{yupResolver}from'@hookform/resolvers/yup';import*as yup from\"yup\";import axios from'axios';import{useHistory}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var schema=yup.object().shape({newsCatename:yup.string().required('Name news category is required!')});var CreatePage=function CreatePage(){var history=useHistory();var _useForm=useForm({resolver:yupResolver(schema)}),register=_useForm.register,handleSubmit=_useForm.handleSubmit,errors=_useForm.formState.errors;var onSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(data){var apiUrl,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:// console.log(data)\napiUrl='https://api.codingthailand.com/api/category';_context.next=3;return axios.post(apiUrl,{name:data.newsCatename});case 3:res=_context.sent;alert(res.data.message);history.replace('/category');case 6:case\"end\":return _context.stop();}}},_callee);}));return function onSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(Container,{className:\"mt-4\",children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{xs:12,md:6,children:/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsxs(Form.Group,{controlId:\"newsCatename\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"News Category\"}),/*#__PURE__*/_jsx(Form.Control,_objectSpread(_objectSpread({type:\"text\"},register(\"newsCatename\")),{},{placeholder:\"Enter news category name.\",isInvalid:errors.newsCatename})),errors.newsCatename&&/*#__PURE__*/_jsx(Form.Control.Feedback,{type:\"invalid\",children:errors.newsCatename.message})]}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",children:\"Submit\"})]})})}),/*#__PURE__*/_jsx(\"hr\",{})]});};export default CreatePage;","map":{"version":3,"sources":["D:/reactPractice/create_react_app/my-app/src/pages/category/CreatePage.js"],"names":["React","Container","Form","Button","Row","Col","useForm","yupResolver","yup","axios","useHistory","schema","object","shape","newsCatename","string","required","CreatePage","history","resolver","register","handleSubmit","errors","formState","onSubmit","data","apiUrl","post","name","res","alert","message","replace"],"mappings":"ydAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,SAAT,CAAoBC,IAApB,CAA0BC,MAA1B,CAAkCC,GAAlC,CAAuCC,GAAvC,KAAkD,iBAAlD,CACA,OAASC,OAAT,KAAwB,iBAAxB,CACA,OAASC,WAAT,KAA4B,yBAA5B,CACA,MAAO,GAAKC,CAAAA,GAAZ,KAAqB,KAArB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,UAAT,KAA2B,kBAA3B,C,wFAEA,GAAMC,CAAAA,MAAM,CAAGH,GAAG,CAACI,MAAJ,GAAaC,KAAb,CAAmB,CAC9BC,YAAY,CAAEN,GAAG,CAACO,MAAJ,GAAaC,QAAb,CAAsB,iCAAtB,CADgB,CAAnB,CAAf,CAIA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CAErB,GAAMC,CAAAA,OAAO,CAAGR,UAAU,EAA1B,CAEA,aAAyDJ,OAAO,CAAC,CAC7Da,QAAQ,CAAEZ,WAAW,CAACI,MAAD,CADwC,CAAD,CAAhE,CAAQS,QAAR,UAAQA,QAAR,CAAkBC,YAAlB,UAAkBA,YAAlB,CAA4CC,MAA5C,UAAgCC,SAAhC,CAA4CD,MAA5C,CAIA,GAAME,CAAAA,QAAQ,0FAAG,iBAAOC,IAAP,iIACb;AACMC,MAFO,CAEE,6CAFF,uBAIKjB,CAAAA,KAAK,CAACkB,IAAN,CAAWD,MAAX,CAAkB,CAChCE,IAAI,CAAGH,IAAI,CAACX,YADoB,CAAlB,CAJL,QAIPe,GAJO,eAQbC,KAAK,CAACD,GAAG,CAACJ,IAAJ,CAASM,OAAV,CAAL,CACAb,OAAO,CAACc,OAAR,CAAgB,WAAhB,EATa,sDAAH,kBAARR,CAAAA,QAAQ,4CAAd,CAYA,mBACI,MAAC,SAAD,EAAW,SAAS,CAAC,MAArB,wBACI,KAAC,GAAD,wBACI,KAAC,GAAD,EAAK,EAAE,CAAE,EAAT,CAAa,EAAE,CAAE,CAAjB,uBACI,MAAC,IAAD,EAAM,QAAQ,CAAEH,YAAY,CAACG,QAAD,CAA5B,wBAEI,MAAC,IAAD,CAAM,KAAN,EAAY,SAAS,CAAC,cAAtB,wBACI,KAAC,IAAD,CAAM,KAAN,4BADJ,cAEI,KAAC,IAAD,CAAM,OAAN,8BACI,IAAI,CAAC,MADT,EAEQJ,QAAQ,CAAC,cAAD,CAFhB,MAGI,WAAW,CAAC,2BAHhB,CAII,SAAS,CAAEE,MAAM,CAACR,YAJtB,GAFJ,CASQQ,MAAM,CAACR,YAAP,eACI,KAAC,IAAD,CAAM,OAAN,CAAc,QAAd,EAAuB,IAAI,CAAC,SAA5B,UACKQ,MAAM,CAACR,YAAP,CAAoBiB,OADzB,EAVZ,GAFJ,cAmBI,KAAC,MAAD,EAAQ,OAAO,CAAC,SAAhB,CAA0B,IAAI,CAAC,QAA/B,oBAnBJ,GADJ,EADJ,EADJ,cA6BI,aA7BJ,GADJ,CAiCH,CArDD,CAuDA,cAAed,CAAAA,UAAf","sourcesContent":["import React from 'react'\r\nimport { Container, Form, Button, Row, Col } from 'react-bootstrap'\r\nimport { useForm } from \"react-hook-form\";\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\nimport * as yup from \"yup\";\r\nimport axios from 'axios'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nconst schema = yup.object().shape({\r\n    newsCatename: yup.string().required('Name news category is required!')\r\n});\r\n\r\nconst CreatePage = () => {\r\n\r\n    const history = useHistory()\r\n\r\n    const { register, handleSubmit, formState:{ errors } } = useForm({\r\n        resolver: yupResolver(schema)\r\n    });\r\n\r\n    const onSubmit = async (data) => {\r\n        // console.log(data)\r\n        const apiUrl = 'https://api.codingthailand.com/api/category'\r\n\r\n        const res = await axios.post(apiUrl,{\r\n            name : data.newsCatename\r\n        })\r\n\r\n        alert(res.data.message)\r\n        history.replace('/category')\r\n    }\r\n\r\n    return (\r\n        <Container className=\"mt-4\">\r\n            <Row>\r\n                <Col xs={12} md={6}>\r\n                    <Form onSubmit={handleSubmit(onSubmit)}>\r\n\r\n                        <Form.Group controlId=\"newsCatename\">\r\n                            <Form.Label>News Category</Form.Label>\r\n                            <Form.Control \r\n                                type=\"text\" \r\n                                {...register(\"newsCatename\")} \r\n                                placeholder=\"Enter news category name.\" \r\n                                isInvalid={errors.newsCatename}\r\n                            />\r\n                            {\r\n                                errors.newsCatename && (\r\n                                    <Form.Control.Feedback type=\"invalid\">\r\n                                        {errors.newsCatename.message}\r\n                                    </Form.Control.Feedback>\r\n                                )\r\n                            }\r\n                        </Form.Group>\r\n\r\n                        <Button variant=\"primary\" type=\"submit\">\r\n                            Submit\r\n                        </Button>\r\n\r\n                    </Form>\r\n                </Col>\r\n            </Row>\r\n            <hr />\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default CreatePage\r\n"]},"metadata":{},"sourceType":"module"}